<!--
  Generated template for the WalletPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>
  <ion-navbar>
    <ion-title>Wallet</ion-title>
  </ion-navbar>
</ion-header>


<ion-content padding>
  <!--toolbar for navigating wallet-->
  <!-- <ion-toolbar color="app-bg"> -->
  <ion-row>
    <ion-segment [(ngModel)]="currentView" color="primary" (ionChange)="toggleEvent($event)">
      <ion-segment-button outline value="current" aria-selected="true">
        CURRENT
      </ion-segment-button>
      <ion-segment-button outline value="topups">
        TOP-UPS
      </ion-segment-button>
    </ion-segment>
  </ion-row>
  <!-- </ion-toolbar> -->

  <ion-card *ngIf="currentView==='current'" style="height:20%">
    <ion-card-header color="primary" style="font-size:20px">
      You have:
    </ion-card-header>
    <ion-card-content>
      <ion-row>
        <ion-col col-2>
          <img src="assets/imgs/OT_Logo.png" style="background:transparent;width:30px; height:30px;">
        </ion-col>
        <ion-col col-8>
          <span class="align-right">{{walletBalance}}
            <span style="color:#f3ba2e">OT</span>
          </span>
        </ion-col>
        <ion-col col-2>
          <span class="refresh-button">
            <button ion-button default clear icon-only (click)=refreshWallet()>
              <ion-icon name="refresh"></ion-icon>
            </button>
          </span>
        </ion-col>
      </ion-row>
      <!-- top up and withdraw buttons-->
    </ion-card-content>
  </ion-card>

  <!-- <ion-card style="height:50%">
    <ion-card-content> -->
  <ion-row *ngIf="currentView==='current'"style="height:80%">
    <ion-scroll scrollY="true">
      <ion-list col-12 no-lines>
        <ion-list-header no-lines text-color="light">
          <span col-2 item-start>Time</span>
          <span col-6>[Game] Trans</span>
          <span col-4 item-end style="text-align:right; padding-right:5%">W/L</span>
        </ion-list-header>
        <ion-item *ngFor="let games of historicalGames">
          <span col-2 item-start style="font-size:12px">{{games.time}}</span>
          <span col-6>[{{games.gameNo}}] {{games.gameID}}</span>
          <span col-4 item-end [style.color]="games.profit > 0 ? 'green' : 'red'" style="font-weight:700; text-align:right">{{ games.profit }}</span>
        </ion-item>
      </ion-list>
    </ion-scroll>
  </ion-row>

  <ion-row *ngIf="currentView==='topups'"style="height:80%">
    <ion-scroll scrollY="true">
      <ion-list col-12 no-lines>
        <ion-list-header no-lines text-color="light">
          <span col-3 item-start>Token</span>
          <span col-5>[Type] Amt</span>
          <span col-4 item-end style="text-align:right; padding-right:5%">Status</span>
        </ion-list-header>
        <ion-item *ngFor="let topUps of outstandingTopups">
          <span col-3 item-start style="font-size:12px">{{topUps.token}}</span>
          <span col-5>{{topUps.amount}} </span>
          <span col-4 item-end [style.color]="topUps.status === 'Pending' ? 'orange' : 'green'" style="font-size:12px; font-weight:700; text-align:right">{{topUps.status}}</span>
        </ion-item>
      </ion-list>
    </ion-scroll>
  </ion-row>

  <ion-row *ngIf="currentView==='topups'">
    <ion-col col-6 text-center>
      <button ion-button color="secondary" full (click)="deposit()" style="color:black;">DEPOSIT</button>
    </ion-col>
    <ion-col col-6 text-center>
      <button ion-button color="secondary" full (click)="withdraw()" style="color:black;">WITHDRAW</button>
    </ion-col>
  </ion-row>
  <!-- </ion-card-content>
  </ion-card> -->

</ion-content>