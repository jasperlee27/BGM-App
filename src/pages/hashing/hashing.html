<!--
  Generated template for the HashingPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

  <ion-navbar>
    <ion-title>Game 2: Hashing</ion-title>
    <ion-buttons end class="walletDisplay">
      {{walletAmount}}
    </ion-buttons>
    <!-- <button item-icon-right class="button button-clear button-positive">Edit</button> -->
  </ion-navbar>

</ion-header>


<ion-content class="hashingContent" padding>

  <br>
  <!-- Graph -->
  <ion-grid style="height:100%">

    <!-- <ion-card style="height:60%">
        <ion-card-content> -->
    <!-- for graph cntr -->
    <div class="chart-container" style="position: relative; height:40vh; width:80vw">
      <canvas id="ctx" baseChart [chartType]="'line'" [datasets]="chartData" [labels]="chartLabels" [options]="chartOptions" [colors]="chartColors"
        width="440" height="380" [legend]="false"></canvas>

      <div id="outer-circle" style="position:relative; top:-70%; left:35%;" [style.visibility]="isChartHidden ? 'hidden' : 'visible'">
        <svg xmlns="http://www.w3.org/2000/svg">
          <circle cx="50" cy="50" r="50" fill="grey" fill-opacity="0.3" stroke="white" stroke-width="1" />
          <text x="18%" y="35%" text-anchor="middle" font-size=24px fill="white" alignment-baseline="central">{{multiplierDisplay}} x</text>
        </svg>
      </div>
      <div class="burst-text" style="position:absolute; top:40%; left: 36%" [style.visibility]="isBurstTextHidden ? 'hidden' : 'visible'">
        Busted @ {{finalValue}}x
      </div>
      <div class="timer-text" style="position:absolute; top:50%; left: 12%" [style.visibility]="isTimerHidden ? 'hidden' : 'visible'">
        Next game in {{timerValue}} s
        </div>
    </div>
    <br>


    <!-- </ion-card-content>
      </ion-card> -->
    <ion-row>
      <ion-segment [(ngModel)]="hashBetType" color="primary" (ionChange)="toggleSegment($event)">
        <ion-segment-button outline value="manual">
          Manual
        </ion-segment-button>
        <ion-segment-button outline value="auto">
          Auto
        </ion-segment-button>
      </ion-segment>
    </ion-row>
    <div [ngSwitch]="hashBetType">
      <ion-list *ngSwitchCase="'manual'" ngSelected="selected">
        <br>
        <!-- for manual -->
        <ion-row>
          <ion-col col-4>
            <ion-label color="primary">AMOUNT: </ion-label>
          </ion-col>
          <ion-col col-6>
            <ion-input type="number" [(ngModel)]="hashManualBetAmount" placeholder="0" attr.text-center [disabled]="isInputDisabled"></ion-input>
          </ion-col>
          <ion-col col-2>
            <ion-label item-end color="primary">BGM</ion-label>
          </ion-col>
        </ion-row>
        <ion-row>
          <button ion-button full color="secondary" [color]="isManualBetDisabled ? 'dark' : 'secondary'" [disabled]="isManualBetDisabled"
            (click)="hashManualBet()">BET</button>
        </ion-row>
        <ion-row *ngIf="isManualBetDisabled">
          <button ion-button full color="secondary" [color]="isManualBetDisabled ? 'secondary' : 'dark'" [disabled]="!isManualBetDisabled"
            (click)="hashManualCout()">CASH OUT</button>
        </ion-row>
      </ion-list>

      <ion-list *ngSwitchCase="'auto'">
        <!-- for auto -->
        <ion-card style="height:auto">
          <ion-card-content>
            <!-- base bet-->
            <ion-row>
              <ion-col col-4>
                <ion-label color="primary">Base Bet: </ion-label>
              </ion-col>
              <ion-col col-8>
                <ion-input id="rounded" type="number" outline [(ngModel)]="hashAutoBasebet" placeholder="0" attr.text-center [disabled]="isInputDisabled"></ion-input>
              </ion-col>
            </ion-row>

            <!-- Auto cashout at-->
            <ion-row>
              <ion-col col-4>
                <ion-label color="primary">Cashout: </ion-label>
              </ion-col>
              <ion-col col-8>
                <ion-input id="rounded" type="number" outline [(ngModel)]="hashAutoCashout" placeholder="2x" attr.text-center [disabled]="isInputDisabled"></ion-input>
              </ion-col>
            </ion-row>

            <!-- Stop if-->
            <ion-row>
              <ion-col col-4>
                <ion-label color="primary">Stop if: </ion-label>
              </ion-col>
              <ion-col col-8>
                <ion-input id="rounded" type="number" outline [(ngModel)]="hashLimitWin" placeholder="10000" attr.text-center [disabled]="isInputDisabled"></ion-input>
              </ion-col>
            </ion-row>

          </ion-card-content>
        </ion-card>
        <!--2 buttons start stop-->
        <ion-row>
          <ion-col col-6 text-center>
            <button ion-button color="secondary" full (click)="deposit()">RUN</button>
          </ion-col>
          <ion-col col-6 text-center>
            <button ion-button color="secondary" full (click)="withdraw()">STOP</button>
          </ion-col>
        </ion-row>
      </ion-list>
    </div>




  </ion-grid>

  <!-- </ion-col> -->
  <!-- comment out arrow head for now-->
  <!-- <div class="arrow-head" [style.visibility]="isArrowHidden ? 'hidden' : 'visible'">
      <ion-img width="70" height="70" src="../assets/imgs/test3.png" style=background:transparent></ion-img>
    </div> -->



  <br>

</ion-content>